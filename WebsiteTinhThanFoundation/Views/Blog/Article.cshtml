@model WebsiteTinhThanFoundation.ViewModels.BlogDetailVM

@{
    ViewData["Title"] = $"Bài viết {Model.BlogDetail.Title}";
}
<!-- Blog Start -->
<div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
    <div class="container py-5">
        <div class="row g-5">
            <div class="col-lg-8">
                <!--    <div class="row g-5">      -->
                <!-- Blog Detail Start -->
                <div class="mb-5">
                    <img class="img-fluid w-100 rounded mb-5" src="@(Model.BlogDetail.BlogImage ?? "~/img/blog-1.jpg")" alt="">
                    <h1 class="mb-4">@Model.BlogDetail.Title</h1>
                    @Html.Raw(Model.BlogDetail.Content)
                </div>
                <!-- Blog Detail End -->
                <!-- Comment List Start -->
                <div class="mb-5">
                    <div class="section-title section-title-sm position-relative pb-3 mb-4">
                        <h3 class="mb-0">@Model.BlogDetail.BlogArticleComments.Count() Comments</h3>
                    </div>
                    @if(Model.BlogDetail.BlogArticleComments.Count() == 0)
                    {
                        <div class="d-flex mb-4">
                        <div class="ps-3">
                            <p>
                                Chưa có bình luận
                            </p>
                        </div>
                    </div>
                    }
                    @foreach(var comment in Model.BlogDetail.BlogArticleComments)
	{
                    <div class="d-flex mb-4">
                        <img src="~/img/user3.jpg" class="img-fluid rounded" style="width: 45px; height: 45px;">
                        <div class="ps-3">
                            <h6><a href="">@comment.FullName</a></h6>
                            <p>
                                @comment.Comment
                            </p>
                        </div>
                    </div>
                    }
                </div>
            <!-- Comment List End -->
                <!-- Comment Form Start -->
                <partial name="BlogArticleComment" model="new BlogArticleComment(){BlogArticleId = Model.BlogDetail.Id}" />
                <!-- Comment Form End -->
        </div>

        <!-- Sidebar Start -->
        <div class="col-lg-4">
            <!-- Search Form Start -->
            <div class="mb-5 wow slideInUp" data-wow-delay="0.1s">
                <div class="input-group">
                    <input type="text" class="form-control p-3" placeholder="Từ khóa">
                    <button class="btn btn-primary px-4"><i class="bi bi-search"></i></button>
                </div>
            </div>
            <!-- Search Form End -->
            <!-- Recent Post Start -->
            <div class="mb-5 wow slideInUp" data-wow-delay="0.1s">
                <div class="section-title section-title-sm position-relative pb-3 mb-4">
                    <h3 class="mb-0">Bài viết gần đây</h3>
                </div>
                @foreach (var item in Model.BlogFeature)
                {
                    <div class="d-flex rounded overflow-hidden mb-3">
                        <img class="img-fluid" src="~/img/blogl3.jpg" style="width: 100px; height: 100px; object-fit: cover;" alt="">
                        <a asp-action="Article" asp-route-permalink="@item.Permalink" class="h5 fw-semi-bold d-flex align-items-center bg-light px-3 mb-0 w-100">
                            @item.Title
                        </a>
                    </div>
                }

            </div>
            <!-- Recent Post End -->
            <!-- Tags Start -->
            <div class="mb-5 wow slideInUp" data-wow-delay="0.1s">
                <div class="section-title section-title-sm position-relative pb-3 mb-4">
                    <h3 class="mb-0">Gắn thẻ</h3>
                </div>
                <div class="d-flex flex-wrap m-n1">
                    @foreach (var item in Model.BlogDetail.Tags)
                    {
                        if (item.Tag != null)
                        {
                            <a asp-action="Index" asp-route-tagname="@item.Tag!.Name" class="btn btn-light m-1">@(item.Tag is null ? "" : item.Tag.Name)</a>
                        }
                    }
                </div>
            </div>
            <!-- Tags End -->

        </div>
        <!-- Sidebar End -->
    </div>
</div>
</div>
<!-- Blog End -->
<!-- Vendor Start -->
<div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
    <div class="container py-5 mb-5">
        <div class="bg-white">
            <div class="owl-carousel vendor-carousel">
                <img src="~/img/vendor-1.jpg" alt="">
                <img src="~/img/vendor-2.jpg" alt="">
                <img src="~/img/vendor-3.jpg" alt="">
                <img src="~/img/vendor-4.jpg" alt="">
                <img src="~/img/vendor-5.jpg" alt="">
                <img src="~/img/vendor-6.jpg" alt="">
                <img src="~/img/vendor-7.jpg" alt="">
                <img src="~/img/vendor-8.jpg" alt="">
                <img src="~/img/vendor-9.jpg" alt="">
            </div>
        </div>
    </div>
</div>
<!-- Vendor End -->
